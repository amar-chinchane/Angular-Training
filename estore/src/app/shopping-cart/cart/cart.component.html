<!-- Header -->
<header class="app-header">
  <div class="header-content">
    <h1 class="app-title">My Shopping Cart</h1>
    <div class="header-buttons">
      <button class="btn-primary" (click)="goToProducts()">ğŸ›ï¸ Continue Shopping</button>
      <button class="logout-btn" (click)="logout()">ğŸšª Logout</button>
    </div>
  </div>
</header>

<!-- Cart Section -->
<div class="cart-container" *ngIf="cartItems && cartItems.length > 0; else emptyCart">
  <div class="cart-card">
    <table class="cart-table">
      <thead>
        <tr>
          <th>Image</th>
          <th>Product</th>
          <th>Price</th>
          <th>Quantity</th>
          <th>Total</th>
          <th>Action</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let c of cartItems">
          <td>
            <img [src]="c.imageUrl || 'assets/default-product.jpg'" [alt]="c.title" class="cart-image" />
          </td>
          <td>{{ c.title }}</td>
          <td>â‚¹{{ c.price }}</td>
          <td>
            <input
              type="number"
              [(ngModel)]="c.quantity"
              min="1"
              class="qty-input"
              (change)="updateQuantity(c)"
            />
          </td>
          <td>â‚¹{{ c.price * c.quantity }}</td>
          <td>
            <button class="btn-remove" (click)="removeItem(c.productId)">
              ğŸ—‘ï¸ Remove
            </button>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Footer -->
    <div class="cart-footer">
      <h3>Total:
        <span class="total-amount">â‚¹{{ getTotalAmount() }}</span>
      </h3>
      <div class="footer-buttons">
        <button class="btn-danger" (click)="clearCart()">âŒ Clear Cart</button>
        <button class="btn-checkout" (click)="checkout()">ğŸ’³ Checkout</button>
      </div>
    </div>
  </div>
</div>

<!-- Empty Cart Template -->
<ng-template #emptyCart>
  <div class="empty-cart">
    <h2>ğŸ›’ Your cart is empty</h2>
    <p>Looks like you haven't added any products yet.</p>
    <button class="btn-primary" (click)="goToProducts()">Browse Products</button>
  </div>
</ng-template>
